"use strict";

function calcTreesHit(rightMove, downMove, plot){
    let treesHit = 0;
    //create deep copy of input array
    let rawData = getRawData();
    let solution1 = [];
    let xPos = 0;
    for(let index = 0; index < rawData.length; index++){
        if(index % downMove != 0){
            continue;
        }
        let line = rawData[index];
        let stringIndex = xPos % line.length;
        if(line.substring(stringIndex, stringIndex + 1) === "#"){
            
            //console.log(line.substring(0, stringIndex));
            
            solution1.push(line.substring(0, stringIndex) + "X" + line.substring(stringIndex + 1));
            treesHit++;
        }else{
            //console.log(line.substring(0, stringIndex));
            solution1.push(line.substring(0, stringIndex) + "O" + line.substring(stringIndex + 1));
        }
        xPos += rightMove
    }
    if(plot){
        document.querySelector(".plottingArea").innerHTML = treesHit + " trees hit. The rout is: <br> " + solution1.join("<br>");
    }
    
    return treesHit;
}

function solvePart1(){
    let treesHit = calcTreesHit(3, 1, true);
    document.querySelector(".solution1").textContent = treesHit + " trees hit.";
};

function solvePart2(){
    let solution2 = calcTreesHit(1, 1, false) * calcTreesHit(3, 1, false) * calcTreesHit(5, 1, false) *
                    calcTreesHit(7, 1, false) * calcTreesHit(1, 2, false);
    document.querySelector(".solution2").innerHTML = solution2 + " is the solution, when the gives slopes are tried out.";
};

function getRawData(){
    return [".#......##..#.....#....#.#.#...",
    ".#.#...#.##.#..........#...##..",
    ".........#.....#.####........#.",
    ".......#.#...#.#...............",
    "..#....#...#.#...#.#...#.#.....",
    "...#...........#..#.........#.#",
    "....#..#....#..#..#.#...#..##..",
    "#...........#..#.....#.......#.",
    "#..#...#...#.###...#...#.#...#.",
    "#...#.#.......#...#...#...##.##",
    "..#..................#.#.#....#",
    "..#.##....#........##..........",
    ".....#....#....#.#.......#.....",
    "##.#..##.#.....###.......#.....",
    "......#...###....#..#.#...#....",
    "..............#.........#.##...",
    "#......#.............#....#...#",
    ".#..#......#.###....#...#.....#",
    "..#........#.....#.....#...#..#",
    ".......#...#..............#..#.",
    "..#...#........#...##........#.",
    ".#........#....#......#......#.",
    "....#..#.###.......##....#.#..#",
    "..#..###..#....................",
    "......#...#....#.........#.#...",
    "....#.##................#..#...",
    "....#......######.....#........",
    ".#......##.......#....#..##.###",
    "..#...##.###..#.......#....#...",
    "....#.###...#.#.#........#.....",
    "...###...#.......#..........#.#",
    "..........#...#..........##.#..",
    "..#....#........#.....#....#..#",
    "..#...#.#....##..#...##....#...",
    "........##...#..##.....#.......",
    "###.......#.#...#...#.......#.#",
    "....#.#....##.###........#.....",
    ".....#..............#....##..##",
    "#......#.#....#.#......#.....##",
    ".....#....#..#......#...#......",
    "..#.##..#.....#..#....#......#.",
    ".....#.#.#..........##....#....",
    ".........#..#..........#.#.....",
    ".##..#...#......#.#..#....#....",
    "#.#..##.......#.#......##......",
    "..#.#....#.#.....#.............",
    ".#.........#.......#..#.#......",
    "##.........#..##.#......#......",
    "#..#.....#...#.....#.........#.",
    "..........#..##..##.#..##...###",
    "..##.....#...#..##...##.#.#....",
    "..#..........#.#.....##.#....#.",
    ".##..#..#.........###.......#..",
    "......##....#...##....##.......",
    ".....#.#.##...............#....",
    "#..#......#.....#..#..#.#.....#",
    ".....##.#....#.#.....#.#.#.....",
    "....#..#.#..##....#.....#....#.",
    "#...#.....#....#....#.#.#......",
    ".....#................#.......#",
    ".......#..#.#...#.#......#..#.#",
    "...........#....#....###...#.#.",
    "#.##....##..###.#.#......#.##.#",
    "..##...#.#..#..#...#.....#.#.#.",
    "#.....###.#..#.#...#.#......#.#",
    "..##.#...#...#.#.....#.#.......",
    "#....#...#.##......#.#......#..",
    "..#.....##.....#...............",
    ".....###...##.#...........#....",
    "...#..##.....##....#...........",
    ".....#..#......#..........#....",
    "....##..##.#...#...#.#.....#.##",
    ".#.....###..###.#...#.#..#....#",
    ".#..........#...#..#.#.#..#...#",
    ".##.##..#..#....#....####......",
    "....#..#.#..........#..........",
    "###...#.#..#..#...#..###.......",
    "####.#...#....#..#...#..#......",
    ".....##....#.#...#....##....##.",
    "....#.#.##....#.##..#....#.#.#.",
    "#......#..#.###....#####.##....",
    "..##..#.#.#..#........##.##..##",
    "#.#...#..#..#......#..#.....#..",
    ".###.....#.#....#.#..##.....#.#",
    "....#......#.#...#...#.#....#.#",
    ".....#.###.##..................",
    ".#..........#........#.#...##.#",
    ".##......#.#.#..#....##.###..#.",
    "..#.##....#....#.........#.#..#",
    "........#..#..#.#.####.....##..",
    "#..#.##.#......#.#..##.#...#..#",
    "..#.#.##..#.##..........#......",
    "##.#.....#.#.##..#..##.....##.#",
    ".##........#..#.....#...#.##.##",
    "...#....#.#.#.........##.....#.",
    "...#....#.#....#...#..#........",
    ".....#...#..#...#.##......##...",
    "##.........#......#..........##",
    ".#......#.....##....#.#.#.....#",
    "..#.###......#..#.#....#.....#.",
    ".#.......#...#...#.#.#.#..##...",
    "...#..............#...###.....#",
    "...##......#.#..#.#........#.#.",
    "..##.#....#..........##...#.#..",
    "..#...#.....#.######...##...#..",
    "#...#...#............#.....#...",
    ".###..###.##..#.........#......",
    ".#........##..#....#...#.#..##.",
    "#.#.##.#.#...###...............",
    "..#.#.#......#.#.#....#.....#.#",
    ".#...........#.##.#..#.###.....",
    ".###.#....#...........##.#.#...",
    ".#...#...........#..##.........",
    ".#...#.#...........#..###....#.",
    ".##.......#.....#.....##....#..",
    "#.......#........#...##.##..#.#",
    "....#..###..#.....##.......#...",
    "......###.#...#..#....#.#...#..",
    "..#..#.......##...#.#.#...#....",
    "......#..#.......#.......##.#..",
    "#.#....###.....#...#..#...#....",
    "#...#.##.#........#..........##",
    ".....#.#.##.#.#..#..##.......##",
    ".#.#.......##....#.#...........",
    "#..##.............##...#.#..#..",
    "#...........#.#......#.##.##..#",
    "...#...#...........#....###.#.#",
    ".##..#.#.#....#....#####.......",
    "..#...#.....#.#....#...........",
    ".#..#........#.....#.#......#..",
    ".#.........#...#...#.#.#..#....",
    ".##.##......#.#...#.......#...#",
    ".##...#..#..........#...#.....#",
    "#..........#..#...#.#......#...",
    "....##......#...##..##..#....#.",
    ".##.......#...#.#..##..#..#....",
    ".#.#................#....#.....",
    "..#..#..###.......#............",
    "...##.....#..#......#....#.....",
    "....#...###...#....#..##...#.#.",
    "#.........#.......#...#....#...",
    ".#.#...#.#....##....#.#..##.#..",
    "...#..#..#....#..#.#..##.....##",
    "..#..#.#.#....#...#....#..#....",
    "......###.....#...##.#..#.#...#",
    ".#.#.#..#.##........#.#....#...",
    ".#..........#....#.#.......#...",
    "#.....#........#........#....#.",
    ".#.#..#...#...................#",
    "....####..#..#..#..#....#..#.#.",
    "..##.#..........#.##..#.....##.",
    "..................##..........#",
    "....##....###.....#..#...#.#...",
    ".##.........#..#...............",
    "....##..###....#.##............",
    "#.#...###.#..##...#...........#",
    ".....#..#......#.....#.........",
    "..#..##...#.....#.....#.#......",
    "......#....###.#..#.#.#....#..#",
    "#...#.......#.##.....#.........",
    ".#.#..#...#.............##.....",
    "......#..............#.....#..#",
    "......#......###....#...#......",
    ".....#.....#...#.......###.....",
    "#..........##......##.#.#.....#",
    "....#.......#..#......#.......#",
    "..#...#.###...........#..#.###.",
    ".....#...#.#...........#.#...##",
    "........#.#.#........#.#.....#.",
    "....##..##.#.#..#.#....#.#.##..",
    "..#.#.#......##.....#...#.#...#",
    "##...#..#......#.#.#..#...#....",
    "....#..##...........#..#..#..#.",
    ".#..##...#...#...##.#..#.#....#",
    ".#.....####.#..#..#....##..#.#.",
    ".#....#..#......#.....#.#.#....",
    "....#..#.....#......#..........",
    "..#.#..###.....#...#...#.....##",
    "..#.#...##..#...........####...",
    ".#.##....##.#......#.....##.#..",
    "#.##..#....#.###..........##...",
    ".###...#......#.#....##........",
    "...................#..#.....#..",
    "#.#...#.#..#.....#...#..####.##",
    "....#.##..##...##.##.....#.....",
    ".#...#.##...........#.......##.",
    "###..#.....##...#.........##...",
    ".###....##...###...............",
    ".#....#####........#.#.#.##....",
    ".#.#....####.##........#.......",
    ".....#......#..................",
    "......###.....##......#..##.#..",
    "....#.#...........##.#....##.#.",
    "...................#.#.#.......",
    "#.#.#........#..#.......##.....",
    "..#...#...#....#......#....##.#",
    "#..#..............#......#....#",
    "......#.........##.............",
    ".....#.#....##..#.......#......",
    "......#.......#...........#....",
    "....#....#.#..##.#....#...#....",
    "#.#.#..#..#.#.#.#...#....#....#",
    ".#.#....#...#.#..#......#.....#",
    ".#...........#.#....##.....#...",
    "........#...#....#....##.....##",
    "#..#..........#..#..#.....#....",
    "#.#.###..........#.##....#...##",
    "..#................#.##.##.....",
    "..#...#.##...##...#.........#..",
    "#....#......#......#.........#.",
    "##...#...##.#.........#......#.",
    ".......#.....#.................",
    "...#...#.....##.........#.#..#.",
    "..#......#...#.......#......#.#",
    "#.......#...#.##.#..##..#......",
    ".#.#............#...###..#.....",
    "...#.......##.......#....#..#..",
    ".....#..#.#....#.#.............",
    "#....#...##.##....#....##......",
    "........#......#.......#....#..",
    "..#..#..##......##.#..#.#..##..",
    "....##......#.##.##......#.....",
    "........##.#...#.....#.......#.",
    "..##.#....#..#......#.##.......",
    "..##.####.#...#.#....#.........",
    ".#........#.....#..#....#...#.#",
    "###....##......#..#..#.##..#...",
    "..........###.#..#..#....#.....",
    "..#.........#....#.....#....#.#",
    ".#...#.#.....##.#...#...#.#..#.",
    "....##......##.##.#.....#..#...",
    "....#.##...##.......#..##......",
    "#..........#..#....#.......#.#.",
    "..#.....#.................#....",
    "..........#.#.#.....#.#....#..#",
    ".......#..........#.##....#....",
    "#..#.....#.......#........#....",
    "#.....##..#.........##..#..#.#.",
    ".##.#...#..........#....#......",
    "....#..#.#......#.##..#..#.##..",
    "...##.####....#.....#.#...##...",
    "..#.#....#.#........#..........",
    "#...#.#.##.##....##..#...#...#.",
    "...#.#.......#..#...#..#..##..#",
    ".....#....#........###.....#...",
    ".......#..#.##....#.#.....#....",
    "....##....#....#.......#.....#.",
    ".........#........###...##.....",
    "#.#..#...##.........#.#..#....#",
    "...##...........#.........#...#",
    "......#.#.#.........#..#.#.#...",
    "........##.###....#..#.......#.",
    "....#.#...#......#..#........##",
    ".#....##....#...#.##.........#.",
    "####.#..#...........##.#.#.....",
    "...#....#..#.....#..##.####.#..",
    ".##...#...........#.#.........#",
    "#.#..#..#...#.#.#.........#..#.",
    "#......###............#...#....",
    "..#.......#....#...#...#..#...#",
    "#.#.#...##..#...#...#.......##.",
    "......#.#.......#..........#.#.",
    "...............#...#..#...#.#..",
    ".#.#...##.####..##.##....#..##.",
    "#..####.......##.#........#...#",
    "......###....##...#.#..#.##....",
    ".##.....###..#...#.###.###.....",
    "..#...#.....#...#..#..##..#....",
    "...#...##.....##........#.#.##.",
    ".#...#..#....#....#..###....#.#",
    "..#.#.#.#.#..........#.#..#..##",
    ".......###.....................",
    "##.#......#.##.....#.........#.",
    "......................#.#.....#",
    "#..#........##.......#..##..#.#",
    "#.#.#.....##.#.##.##.#....##...",
    ".#...#.....#.........#.....#...",
    "..#.........#.##.#.###.#......#",
    ".........#..#.##...#.......###.",
    ".....##........#......#........",
    "...#.#...##...#........#.##....",
    ".........##............#.####..",
    "#....#...#...#..#....#..#.#.#.#",
    "..#.........#......#.##........",
    "....#.....#........#........#.#",
    ".##.#..#.#..#..###......###....",
    "#.###.....#.#.#.##........#..##",
    "#.#..#...##.....#....#...#.#...",
    "......#....#.....#...#.........",
    "...#........##.......#.##..####",
    "..#..#....#....#..#..#...#.##..",
    ".##.....#............#...#.....",
    "......#.......#.....#...#.#.#..",
    ".........#.....#...##..........",
    ".....#........##...........#...",
    "#.#..##.#...#....#....#........",
    "#.##..#.#.......#...#......#...",
    "...........#.#..#..#.....##.#..",
    "#....#.##.......#......#.##..#.",
    ".....#........#.##.#...#.....#.",
    ".....###..#.......##...........",
    ".........#.#.#.....#.##.......#",
    ".......#....#......#.#.....#...",
    "##........#...#..#.#.........#.",
    "##...........#.##...##......#..",
    "..#.###.#.#.#...####..#....###.",
    ".........#...#.....##....#.#.##",
    ".###..###.#.#.....#.##.........",
    "#..#...#.#.................##.#",
    "##.........#.#....#.#...#.###..",
    "#.#....#..............#.##.#...",
    "...#..#....##.#..#.......#..##.",
    ".#..#.###......##..........#..#",
    ".##....#.#....#....#.#..#......",
    ".......#.....#..#....#.##...#..",
    "#.#.#.........###..#..#.....#..",
    "...##..##...##....#..#......#..",
    "..........#....#..........#....",
    "#..##..#...#......#.....#.#....",
    "#..##..#....#.#.#...#..........",
    "......##..#.........#........#.",
    ".##..#..#......###.....#..#....",
    ".....#..#.##..........#.#..#..."];
}

solvePart1();
solvePart2();
